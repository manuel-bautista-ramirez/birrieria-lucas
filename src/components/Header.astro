---
const menu = [
  { name: "Inicio", link: "#inicio" },
  { name: "Especialidades", link: "#especialidades" },
  { name: "Menú", link: "#menu-completo" },
  { name: "Ubicación", link: "#ubicacion" },
  { name: "Contacto", link: "#contacto" },
];
---

<header class="fixed w-full bg-gray-100 shadow-md">
  <div class="mx-auto flex justify-between items-center p-1.5">
    <h1 class="text-xl font-bold text-red-700">
      <img
        src="../../public/imgenes/Logo.jpeg"
        alt="Logo"
        class="max-w-[50px] object-contain"
      />
    </h1>
    <h1 class="text-xl font-bold text-red-700">Biriería Lucas</h1>

    <!-- Menú de navegación para pantallas grandes -->
    <nav class="hidden md:block">
      <ul class="flex space-x-6">
        {
          menu.map((item) => (
            <astro:fragment key={item.name}>
              <li>
                <a
                  href={item.link}
                  class="relative text-gray-700 font-semibold hover:text-red-600
                    after:content-[''] after:absolute after:w-0 after:h-[2px] after:bg-red-700 after:bottom-[-2px] after:left-1/2
                    after:transition-all after:duration-300 hover:after:w-full hover:after:left-0"
                >
                  {item.name}
                </a>
              </li>
            </astro:fragment>
          ))
        }
      </ul>
    </nav>

    <!-- Botón para menú en pantallas pequeñas -->
    <div class="md:hidden">
      <button id="menu-toggle" class="text-xl text-gray-700 hover:text-red-600">
        ☰
      </button>
    </div>
  </div>

  <!-- Menú desplegable para pantallas pequeñas -->
  <div id="menu-dropdown" class="hidden md:hidden">
    <ul
      class="flex flex-col items-center space-y-4 mt-4 bg-white shadow-md p-4"
    >
      {
        menu.map((item) => (
          <astro:fragment key={item.name}>
            <li>
              <a
                href={item.link}
                class="relative text-gray-700 font-semibold hover:text-red-600
                    after:content-[''] after:absolute after:w-0 after:h-[2px] after:bg-red-700 after:bottom-[-2px] after:left-1/2
                    after:transition-all after:duration-300 hover:after:w-full hover:after:left-0"
              >
                {item.name}
              </a>
            </li>
          </astro:fragment>
        ))
      }
    </ul>
  </div>

  <!-- Script para manejar el menú -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const menuToggle = document.getElementById("menu-toggle");
      const menuDropdown = document.getElementById("menu-dropdown");

      if (!menuToggle || !menuDropdown) return;

      // Alterna la visibilidad del menú al hacer clic en el botón ☰
      menuToggle.addEventListener("click", () => {
        menuDropdown.classList.toggle("hidden");
      });

      // Oculta el menú desplegable al seleccionar una opción
      const menuLinks = menuDropdown.querySelectorAll("a");
      menuLinks.forEach((link) => {
        link.addEventListener("click", () => {
          menuDropdown.classList.add("hidden");
        });
      });
    });
  </script>
</header>
